# Wundertools D8

# Important: Follow the steps accordingly!

### Requirements:
- Vagrant 1.7.x
- https://github.com/fgrehm/vagrant-cachier
( $ vagrant plugin install vagrant-cachier )
- Ansible in your host machine. For OS X:
 brew install ansible

## Prerequisites

If you are starting a new project, see: [Setup.md](docs/Setup.md)

## Getting started

#### 1. Setup the local vagrant environment

Start by running:

```$ vagrant up```

If everything went well, proceed to step 2.

#### 2. Setup the drupal project for the first time

SSH to your local vagrant environment:

```$ vagrant ssh```

Install the drupal project from configuration and create root directory (you only need to do this once):

```$ cd /vagrant/drupal/ && ./build.sh new```

This will/should generate the packages and project directory, and also install drupal using config_installer profile.

If you get some errors during build you can try to rebuild cache with "drush cr" and just login at https://local.wundertools.site

##### Done! You should now have a working drupal site at http://<hostname>:8080 or https://<hostname>

### Install and building composer packages

Composer commands could be done inside or outside the vagrant environment from **/drupal/current** directory.

##### Note: DO NOT run composer from /drupal/conf directory. If you do not see the /drupal/current directory, go back to Step 2. It should have been generated by build.sh.

Installing or updating packages

```composer require <package>```

Downloading packpages

```composer install```

### Updating Drupal core

```composer update drupal/core --with-dependencies```

### Configuration management

Importing configuration (this will override your current configuration):

```$ ./drush.sh cim```

Exporting configuration:

```$ ./drush.sh cex```

Note: Please take care when committing exported configuration code, making sure you are not overriding configuration that were not related to the changes that you have made.

### Deploying in staging/production

```./build.sh update```
